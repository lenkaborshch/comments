(this.webpackJsonpcomments=this.webpackJsonpcomments||[]).push([[0],{120:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),s=n.n(c),i=n(21),o=n(156),u=n(153),l=n(29),p=n.n(l),d=n(37),j=n(60),m=n(17),x=n(52),b=n.n(x),g="https://jordan.ashton.fashion/api/goods/30/comments",h=function(e){return b.a.get(e).then((function(e){return e.data}))},f=function(e){return b.a.get("".concat(g,"?page=").concat(e)).then((function(e){return e.data}))},O=function(e,t){return b.a.post(g,{name:e,text:t}).then((function(e){return e}))},v="SET_COMMENTS",_="SET_COMMENTS_BY_PAGE",y="TOGGLE_IS_FETCHING",N={comments:[],current_page:1,last_page:0,next_page_url:"",prev_page_url:"",isFetching:!1,isFetchingByPage:!1},w=function(e){return{type:v,data:e}},F=function(e){return{type:_,data:e}},S=function(e,t){return{type:y,isFetching:e,byPage:t}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return function(){var t=Object(d.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(S(!0,!1)),t.next=4,h(e);case 4:a=t.sent,n(w(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:return t.prev=11,n(S(!1,!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()},C=n(150),M=n(4),E=function(){return Object(M.jsx)("div",{style:{display:"flex",justifyContent:"center",margin:"30px 0"},children:Object(M.jsx)(C.a,{})})},P=n(154),A=n(155),D=n(162),T=function(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,r=t.getDate(),c=t.getHours(),s=t.getMinutes();return c<10&&(c="0"+c),s<10&&(s="0"+s),r<10&&(r="0"+r),a<10&&(a="0"+a),"".concat(c,":").concat(s," ").concat(r,".").concat(a,".").concat(n)},B=Object(u.a)((function(e){return{card:{background:"#fdf9f4",padding:"40px 20px",margin:"0 0 30px 0"},large:{width:e.spacing(7),height:e.spacing(7)},text:{textAlign:"left",wordBreak:"break-all",fontSize:"18px",margin:"5px 0"},date:{textAlign:"left",color:"gray"},userName:{margin:0,textAlign:"left"}}})),q=function(e){var t=e.name,n=e.text,a=e.date,r=B();return Object(M.jsx)(P.a,{className:r.card,children:Object(M.jsxs)(A.a,{container:!0,wrap:"nowrap",spacing:2,children:[Object(M.jsx)(A.a,{item:!0,children:Object(M.jsx)(D.a,{alt:t,src:"https://picsum.photos/60",className:r.large})}),Object(M.jsxs)(A.a,{children:[Object(M.jsx)("h2",{className:r.userName,children:t}),Object(M.jsx)("p",{className:r.text,children:n}),a&&Object(M.jsx)("p",{className:r.date,children:T(a)})]})]})})},G=Object(u.a)((function(){return{container:{margin:"20px 0 0 0",display:"flex",flexDirection:"column",padding:"0 20px"}}})),I=function(){var e=G(),t=Object(i.b)(),n=Object(i.c)((function(e){return e.commentsData})),a=n.isFetching,r=n.isFetchingByPage,c=n.comments,s=n.next_page_url;return Object(M.jsxs)("div",{className:e.container,children:[Object(M.jsx)("div",{children:r?Object(M.jsx)(E,{}):c.map((function(e){return Object(M.jsx)(q,{name:e.name,text:e.text,date:e.created_at},"".concat(e.text,"-").concat(e.name,"-").concat(e.created_at))}))}),!!s&&Object(M.jsx)(o.a,{type:"submit",onClick:function(){t(k(n.next_page_url))},variant:"contained",color:"primary",children:"Show more"}),a&&Object(M.jsx)(E,{})]})},Y=n(80),z=n(79),H=n(158),J=n(157),R=n(161),W=n(160),L=Object(u.a)((function(e){return Object(R.a)({paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center"}})})),V=function(e){var t=e.text,n=e.open,a=e.setOpen,r=L(),c=Object(M.jsx)("div",{className:r.paper,children:Object(M.jsx)("h2",{children:t})});return Object(M.jsx)(W.a,{open:n,onClose:function(){a(!1)},children:c})},K=Object(u.a)((function(){return Object(R.a)({formSearch:{padding:"30px",textAlign:"center"},containerForm:{display:"flex",flexDirection:"column"},inputFormSearch:{margin:"15px 0 0 0"},errorMessage:{color:"red",textAlign:"left",fontSize:"14px",padding:"5px 0"},btn:{margin:"30px 0 0 0"}})})),Q=function(){var e=K(),t=Object(a.useState)(!1),n=Object(Y.a)(t,2),r=n[0],c=n[1],s=Object(z.a)({initialValues:{name:"",text:""},onSubmit:function(){var e=Object(d.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(t.name,t.text);case 3:s.resetForm(),c(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}}),e,null,[[0,7,10,12]])})));return function(t){return e.apply(this,arguments)}}(),validate:function(e){var t={};return e.name||(t.name="Required field"),e.text||(t.text="Required field"),t}});return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("form",{onSubmit:s.handleSubmit,className:e.formSearch,children:Object(M.jsxs)(H.a,{className:e.containerForm,children:[Object(M.jsx)(J.a,Object(m.a)(Object(m.a)({label:"Name",placeholder:"Name"},s.getFieldProps("name")),{},{onChange:s.handleChange,value:s.values.name,className:e.inputFormSearch,required:!0})),s.errors.name&&s.touched.name&&Object(M.jsx)("div",{className:e.errorMessage,children:s.errors.name}),Object(M.jsx)(J.a,Object(m.a)(Object(m.a)({label:"Text",placeholder:"Write your comment..."},s.getFieldProps("text")),{},{onChange:s.handleChange,value:s.values.text,className:e.inputFormSearch,required:!0})),s.errors.text&&s.touched.text&&Object(M.jsx)("div",{className:e.errorMessage,children:s.errors.text}),Object(M.jsx)(o.a,{type:"submit",disabled:!s.values.name||!s.values.text,variant:"contained",color:"primary",className:e.btn,children:"Add comment"})]})}),Object(M.jsx)(V,{text:"Your comment has been sent",open:r,setOpen:c})]})},U=n(159),X=Object(u.a)((function(e){return Object(R.a)({root:{"& > *":{marginTop:e.spacing(2)}},pagination:{"& > .MuiPagination-ul":{justifyContent:"center"}}})})),Z=function(){var e=X(),t=Object(i.b)(),n=Object(i.c)((function(e){return e.commentsData})),a=n.last_page,r=n.current_page;return Object(M.jsx)("div",{className:e.root,children:!!a&&Object(M.jsx)(U.a,{className:e.pagination,page:r,count:a,onChange:function(e,n){t(function(e){return function(){var t=Object(d.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(S(!1,!0)),t.next=4,f(e);case 4:a=t.sent,n(F(a)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:return t.prev=11,n(S(!1,!1)),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()}(n))}})})},$=Object(u.a)((function(){return Object(R.a)({container:{display:"flex",flexDirection:"column",maxWidth:"700px",margin:" 0 auto 100px auto"}})}));var ee=function(){var e=$(),t=Object(i.b)();return Object(a.useEffect)((function(){t(k())}),[t]),Object(M.jsxs)(H.a,{className:e.container,children:[Object(M.jsx)(Q,{}),Object(M.jsx)(Z,{}),Object(M.jsx)(I,{})]})},te=n(53),ne=n(78),ae=Object(te.b)({commentsData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(m.a)(Object(m.a)({},e),{},{comments:[].concat(Object(j.a)(e.comments),Object(j.a)(t.data.data)),next_page_url:t.data.next_page_url,last_page:t.data.last_page});case _:return Object(m.a)(Object(m.a)({},e),{},{comments:t.data.data,next_page_url:t.data.next_page_url,last_page:t.data.last_page,current_page:t.data.current_page});case y:return Object(m.a)(Object(m.a)({},e),{},{isFetching:t.isFetching,isFetchingByPage:t.byPage});default:return e}}}),re=Object(te.c)(ae,Object(te.a)(ne.a));window.store=re,s.a.render(Object(M.jsx)(r.a.StrictMode,{children:Object(M.jsx)(i.a,{store:re,children:Object(M.jsx)(ee,{})})}),document.getElementById("root"))}},[[120,1,2]]]);
//# sourceMappingURL=main.316892bc.chunk.js.map